<!--<h3>推荐餐厅</h3>-->
<div class="well well-sm" ng-if="createOrUpdate">
    <form class="form-horizontal">
        <fieldset>
            <legend>添加商家</legend>
            <input class="form-control" ng-model="merchant.id" type="hidden">
            <div class="form-group">
                <label class="control-label col-lg-3 col-md-3">商家名称</label>
                <div class=" col-lg-9 col-md-9">
                    <input class="form-control" ng-model="merchant.name" type="text">
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-lg-3 col-md-3">用户ID</label>
                <div class=" col-lg-9 col-md-9">
                    <input class="form-control" ng-model="merchant.user.id" type="text">
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-lg-3 col-md-3">主营业务</label>
                <div class=" col-lg-9 col-md-9">
                    <input class="form-control" ng-model="merchant.business" type="text">
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-lg-3 col-md-3">平均消费</label>
                <div class=" col-lg-9 col-md-9">
                    <input class="form-control" ng-model="merchant.consume" type="number">
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-lg-3 col-md-3">配送费</label>
                <div class=" col-lg-9 col-md-9">
                    <input class="form-control" ng-model="merchant.delivery_fee" type="number" step="0.5">
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-lg-3 col-md-3">配送时间</label>
                <div class=" col-lg-9 col-md-9">
                    <input class="form-control" ng-model="merchant.delivery_time" type="number">
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-lg-3 col-md-3">商家地址</label>
                <div class=" col-lg-9 col-md-9">
                    <input class="form-control" ng-model="merchant.location" type="text">
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-lg-3 col-md-3">商家标识</label>
                <div class=" col-lg-9 col-md-9">
                    <input class="form-control" ng-model="merchant.logo" type="text">
                </div>
            </div>
            <div class="form-group">
                <div class=" col-lg-9 col-md-9 col-lg-offset-3 col-md-offset-3">
                    <input class="btn btn-primary" value="添加" type="submit" ng-click="create(merchant)" ng-if="!edit">
                    <input class="btn btn-primary" value="保存" type="submit" ng-click="update(merchant.id, merchant)" ng-if="edit">

                    <input class="btn btn-default" value="取消" type="reset" ng-click="reset()">
                </div>
            </div>
        </fieldset>
    </form>
</div>


<div class="container col-lg-12 col-md-12" ng-hide="createOrUpdate">
    <div>
        <h4>商家列表<span class="small pull-right"><a ng-click="addMerchant()" class="btn btn-link btn-xs"><i class="glyphicon glyphicon-plus-sign"></i>添加</a></span></h4>

        <alert type="warning" ng-show="merchants.length == 0">
            没有评论！
        </alert>

        <div ng-repeat="item in merchants | orderBy:predicate" class="clearfix well" >
            <div class="col-lg-2 col-md-2">
                <img src="{{item.logo}}" alt="{{item.name}}" class="img-cell-sm">
            </div>

            <div class="col-lg-10 col-md-10">
                <div class="container">
                    <div class="col-lg-8 col-md-8">
                        <div>
                            <div class="col-lg-4 col-md-4">
                                <strong>{{item.name}}</strong></p>
                            </div>

                            <div class="col-lg-8">
                                <span class="glyphicon glyphicon-star"></span>
                                <span class="glyphicon glyphicon-star"></span>
                                <span class="glyphicon glyphicon-star"></span>
                                <span class="glyphicon glyphicon-star"></span>
                                <span class="glyphicon glyphicon-star-empty"></span>
                            </div>
                        </div>
                        <div>
                            <div class="col-lg-4 col-md-4">人均消费 : {{item.consume}} 元</div>
                            <div class="col-lg-8 col-md-8">配送费 : {{item.delivery_fee}}元</div>
                        </div>
                        <div>
                            <div>
                                <span>{{item.delivery_time}}</span> 分钟送达
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4">

                        <div> <a ng-click="editMerchant(item)" class="btn btn-link btn-sm">编辑 </a></div>
                        <div> <a ng-href="#!!!/admin/merchant/{{item.id}}/products" class="btn btn-link btn-sm">查看菜品 </a></div>
                        <div> <a ng-href="#!!!/admin/merchant/{{item.id}}/comments" class="btn btn-link btn-sm">查看评论 </a></div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>